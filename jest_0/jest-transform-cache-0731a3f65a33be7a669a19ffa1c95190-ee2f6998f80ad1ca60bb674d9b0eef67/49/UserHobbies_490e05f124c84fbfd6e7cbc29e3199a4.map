{"version":3,"sources":["UserHobbies.tsx"],"names":["UserHobbies","data","setData","isFullView","setFullView","currentUserHobby","setCurrentUserData","API_URL","then","respData","console","log","handleConfirmBox","index","title","message","buttons","label","onClick","handleDelete","deleteIndex","updtedHobbies","hobbies","filter","hobby","id","PostType","PUT","handeUserAdd","e","newUserData","preventDefault","newUserObj","Number","length","name","POST","handleHobbbyAdd","newUserHobbyData","getHobbyDetails","map","userData"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { confirmAlert } from \"react-confirm-alert\";\nimport \"react-confirm-alert/src/react-confirm-alert.css\";\n\nimport Table from \"../Table/Table\";\nimport HobbyTable from \"../HobbyTable/HobbyTable\";\nimport UserForm from \"../UserForm/UserForm\";\n\nimport { getData, postData, API_URL } from \"../../Utils\";\nimport \"./UserHobbies.css\";\n\nimport { PostType, UserHobby, Hobbies } from \"../../interfaces\";\n\nconst UserHobbies: React.FC = () => {\n  const [data, setData] = useState<Array<UserHobby> | undefined>();\n  const [isFullView, setFullView] = useState<Boolean>(false);\n  const [currentUserHobby, setCurrentUserData] = useState<\n    Array<Hobbies> | undefined\n  >();\n\n  useEffect(() => {\n    getData(`${API_URL}/userHobbies`).then(respData => {\n      console.log(\"Resp\", respData);\n      setData(respData);\n    });\n  }, []);\n\n  const handleConfirmBox = (currentUserHobby: any, index: any) => {\n    confirmAlert({\n      title: \"Confirm to Delete\",\n      message: \"Are you sure to do this.\",\n      buttons: [\n        {\n          label: \"Delete\",\n          onClick: () => handleDelete(currentUserHobby, index)\n        },\n        {\n          label: \"Don't delete\",\n          onClick: () => {}\n        }\n      ]\n    });\n  };\n\n  const handleDelete = (currentUserHobby: any, deleteIndex: any) => {\n    if (currentUserHobby) {\n      console.log(currentUserHobby);\n      setFullView(true);\n      const updtedHobbies = currentUserHobby.hobbies.filter(\n        (hobby: any, index: any) => index !== deleteIndex\n      );\n      currentUserHobby.hobbies = updtedHobbies;\n      postData(\n        `${API_URL}/userHobbies/${currentUserHobby.id}`,\n        currentUserHobby,\n        PostType.PUT\n      ).then(respData => {\n        if (respData)\n          getData(`${API_URL}/userHobbies`).then(respData => {\n            console.log(\"Resp\", respData);\n            setData(respData);\n          });\n      });\n    }\n  };\n\n  const handeUserAdd = (e: any, newUserData: any) => {\n    e.preventDefault();\n    if (newUserData && data) {\n      console.log(\"User To Be add\", newUserData);\n      const newUserObj = {\n        id: Number(data.length) + 1,\n        name: newUserData,\n        hobbies: []\n      };\n      postData(`${API_URL}/userHobbies`, newUserObj, PostType.POST).then(\n        respData => {\n          if (respData)\n            getData(`${API_URL}/userHobbies`).then(respData => {\n              console.log(\"Resp\", respData);\n              setData(respData);\n            });\n        }\n      );\n    }\n  };\n\n  const handleHobbbyAdd = (e: any, newUserHobbyData: any) => {\n    e.preventDefault();\n    if (newUserHobbyData) {\n      console.log(newUserHobbyData);\n      setFullView(true);\n      postData(\n        `${API_URL}/userHobbies/${newUserHobbyData.id}`,\n        newUserHobbyData,\n        PostType.PUT\n      ).then(respData => {\n        if (respData)\n          getData(`${API_URL}/userHobbies`).then(respData => {\n            console.log(\"Resp\", respData);\n            setData(respData);\n          });\n      });\n    }\n  };\n\n  const getHobbyDetails = (currentUserHobby: any) => {\n    if (!currentUserHobby) return <></>;\n\n    return (\n      <HobbyTable\n        userName={currentUserHobby.name}\n        userHobbyData={currentUserHobby}\n        handleConfirmBox={handleConfirmBox}\n        handleHobbbyAdd={handleHobbbyAdd}\n      />\n    );\n  };\n\n  return (\n    <div className=\"ReactTable\">\n      <div className=\"userHobbyDetails\">\n        <div className=\"userDetails\">\n          <h1>User Lists</h1>\n          <div className=\"userAddForm\">\n            <UserForm userAddFunc={handeUserAdd} />\n          </div>\n          <div className=\"userLists\">\n            {data &&\n              data.map((userData: any, index: any) => (\n                <Table\n                  userData={userData}\n                  key={index}\n                  onUserClick={setCurrentUserData}\n                  enableFullView={setFullView}\n                />\n              ))}\n          </div>\n        </div>\n        {isFullView && (\n          <div className=\"userHobbyDetails\">\n            {getHobbyDetails(currentUserHobby)}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default UserHobbies;\n"]}